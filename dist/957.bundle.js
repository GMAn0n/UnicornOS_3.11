"use strict";(self.webpackChunkunicornos_2=self.webpackChunkunicornos_2||[]).push([[957],{867:(e,n,o)=>{o.d(n,{A:()=>s});var r=o(601),t=o.n(r),i=o(314),a=o.n(i)()(t());a.push([e.id,".memoji-minesweeper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n}\n\n.players {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n.player {\n  margin: 0 10px;\n  font-weight: bold;\n}\n\n.grid {\n  display: inline-grid;\n  grid-template-columns: repeat(16, auto);\n  gap: 1px;\n  background-color: #bdbdbd;\n  border: 2px solid #7b7b7b;\n  padding: 2px;\n}\n\n.cell {\n  width: 30px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n  font-weight: bold;\n  background-color: #c0c0c0;\n  border: 1px solid #7b7b7b;\n  cursor: pointer;\n}\n\n.cell.revealed {\n  background-color: #e0e0e0;\n}\n\n.cell:hover {\n  background-color: #d0d0d0;\n}",""]);const s=a},333:(e,n,o)=>{o.d(n,{A:()=>s});var r=o(601),t=o.n(r),i=o(314),a=o.n(i)()(t());a.push([e.id,".resizable-window {\n  position: absolute;\n  background-color: #f0f0f0;\n  border: 1px solid #ccc;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.resizable-window-header {\n  background-color: #e0e0e0;\n  padding: 5px;\n  cursor: move;\n  user-select: none;\n}\n\n.resizable-window-content {\n  padding: 10px;\n  overflow: auto;\n}",""]);const s=a},957:(e,n,o)=>{o.r(n),o.d(n,{default:()=>N});var r=o(848),t=o(540),i=o(72),a=o.n(i),s=o(825),l=o.n(s),c=o(659),d=o.n(c),u=o(56),p=o.n(u),m=o(159),v=o.n(m),f=o(113),g=o.n(f),h=o(333),b={};b.styleTagTransform=g(),b.setAttributes=p(),b.insert=d().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=v(),a()(h.A,b),h.A&&h.A.locals&&h.A.locals;var y=function(){return y=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},y.apply(this,arguments)};function x(e){var n=e.title,o=e.onClose,i=e.appName,a=e.children,s=(0,t.useState)({x:100,y:100}),l=s[0],c=s[1],d=(0,t.useState)({width:400,height:300}),u=d[0],p=d[1],m=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e,n=function(e){if(m.current){var n=e.clientX-m.current.getBoundingClientRect().left,o=e.clientY-m.current.getBoundingClientRect().top;p({width:n,height:o})}},o=function(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)},r=null===(e=m.current)||void 0===e?void 0:e.querySelector(".resize-handle"),t=function(e){e.preventDefault(),document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)};return null==r||r.addEventListener("mousedown",t),function(){null==r||r.removeEventListener("mousedown",t)}}),[]),(0,r.jsxs)("div",y({ref:m,className:"resizable-window ".concat(i),style:{left:"".concat(l.x,"px"),top:"".concat(l.y,"px"),width:"".concat(u.width,"px"),height:"".concat(u.height,"px")}},{children:[(0,r.jsxs)("div",y({className:"resizable-window-header",onMouseDown:function(e){var n=e.pageX-l.x,o=e.pageY-l.y,r=function(e){c({x:e.pageX-n,y:e.pageY-o})},t=function(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",t)}},{children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("button",y({onClick:o},{children:"Ã—"}))]})),(0,r.jsx)("div",y({className:"resizable-window-content"},{children:a})),(0,r.jsx)("div",{className:"resize-handle"})]}))}var w=o(867),j={};j.styleTagTransform=g(),j.setAttributes=p(),j.insert=d().bind(null,"head"),j.domAPI=l(),j.insertStyleElement=v(),a()(w.A,j),w.A&&w.A.locals&&w.A.locals;var A=o(769),E=(0,o(223).Wp)({apiKey:"YOUR_API_KEY",authDomain:"unicornos-staging.firebaseapp.com",databaseURL:"https://unicornos-staging-default-rtdb.firebaseio.com",projectId:"unicornos-staging",storageBucket:"unicornos-staging.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"}),R=(0,A.C3)(E),M=function(){return M=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++)for(var t in n=arguments[o])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},M.apply(this,arguments)},k=function(e,n,o){if(o||2===arguments.length)for(var r,t=0,i=n.length;t<i;t++)!r&&t in n||(r||(r=Array.prototype.slice.call(n,0,t)),r[t]=n[t]);return e.concat(r||Array.prototype.slice.call(n))};function N(e){var n=e.onClose,o=(0,t.useState)([]),i=o[0],a=o[1],s=(0,t.useState)([]),l=s[0],c=s[1],d=(0,t.useState)(null),u=d[0],p=d[1];(0,t.useEffect)((function(){console.log("MemojiMinesweeper component mounted");var e=(0,A.KR)(R,"memojiMinesweeper"),n=(0,A.Zy)(e,(function(e){console.log("Received data from Firebase:",e.val());var n=e.val();n&&n.grid?(a(n.grid),c(Object.values(n.players||{}))):console.error("Invalid data structure received from Firebase")})),o=(0,A.VC)((0,A.KR)(R,"memojiMinesweeper/players")).key;return p(o),(0,A.hZ)((0,A.KR)(R,"memojiMinesweeper/players/".concat(o)),{id:o,color:"#".concat(Math.floor(16777215*Math.random()).toString(16))}),function(){n(),o&&(0,A.hZ)((0,A.KR)(R,"memojiMinesweeper/players/".concat(o)),null)}}),[]);var m=(0,t.useCallback)((function(e,n){var o=k([],i,!0),r=o[e][n];r.isRevealed||(r.isRevealed=!0,r.playerId=u,(0,A.hZ)((0,A.KR)(R,"memojiMinesweeper/grid"),o))}),[i,u]);return(0,r.jsx)(x,M({title:"Multiplayer Memoji Minesweeper",onClose:n,appName:"memojiminesweeper"},{children:(0,r.jsxs)("div",M({className:"memoji-minesweeper"},{children:[(0,r.jsx)("div",M({className:"players"},{children:l&&l.map((function(e){return(0,r.jsxs)("div",M({className:"player",style:{color:e.color}},{children:["Player ",e.id===u?"(You)":""]}),e.id)}))})),i&&i.length>0?(0,r.jsx)("div",M({className:"grid"},{children:i.map((function(e,n){return(0,r.jsx)("div",M({className:"row"},{children:e.map((function(e,o){var t;return(0,r.jsx)("button",M({className:"cell ".concat(e.isRevealed?"revealed":""),onClick:function(){return m(n,o)},style:{backgroundColor:e.playerId?null===(t=l.find((function(n){return n.id===e.playerId})))||void 0===t?void 0:t.color:""}},{children:e.isRevealed?e.isMine?"ðŸ’£":e.neighborMines>0?e.neighborMines:e.emoji:""}),o)}))}),n)}))})):(0,r.jsx)("div",{children:"Loading game board..."})]}))}))}}}]);